#include "types.hpp"

#ifndef BITBOARD_HPP
#define BITBOARD_HPP

namespace VsR{
    namespace Masks{
        constexpr u64 FILE_A = 0x0101010101010101ULL;
        constexpr u64 FILE_B = FILE_A << 1;
        constexpr u64 FILE_C = FILE_A << 2;
        constexpr u64 FILE_D = FILE_A << 3;
        constexpr u64 FILE_E = FILE_A << 4;
        constexpr u64 FILE_F = FILE_A << 5;
        constexpr u64 FILE_G = FILE_A << 6;
        constexpr u64 FILE_H = FILE_A << 7;

        constexpr u64 RANK_1 = 0x00000000000000FFULL;
        constexpr u64 RANK_2 = RANK_1 << 8;
        constexpr u64 RANK_3 = RANK_2 << 8;
        constexpr u64 RANK_4 = RANK_3 << 8;
        constexpr u64 RANK_5 = RANK_4 << 8;
        constexpr u64 RANK_6 = RANK_5 << 8;
        constexpr u64 RANK_7 = RANK_6 << 8;
        constexpr u64 RANK_8 = RANK_7 << 8;
    }

    struct Board{
        u64 All_PiecesBB[3]; // 0 -> White, 1-> Black, 2-> All Of Them
        u64 PiecesBB[PIECE_NUMBERS]; // 0-5 -> White, 6-11 -> Black 
        int TurnF; // 0 -> White, 1 -> Black
        inline u64 get_white_pieces() const { return All_PiecesBB[WHITE];}
        inline u64 get_black_pieces() const { return All_PiecesBB[BLACK];}
        inline u64 get_both_pieces() const { return All_PiecesBB[BOTH];}
        inline void switch_turn() { TurnF^=1;}
    };

    inline constexpr u64 AttackList_R[]= {0x01010101010101FEULL, 0x02020202020202FDULL, 0x04040404040404FBULL,
    0x08080808080808F7ULL, 0x10101010101010EFULL, 0x20202020202020DFULL,
    0x40404040404040BFULL, 0x808080808080807FULL, 0x010101010101FE01ULL,
    0x020202020202FD02ULL, 0x040404040404FB04ULL, 0x080808080808F708ULL,
    0x101010101010EF10ULL, 0x202020202020DF20ULL, 0x404040404040BF40ULL,
    0x8080808080807F80ULL, 0x0101010101FE0101ULL, 0x0202020202FD0202ULL,
    0x0404040404FB0404ULL, 0x0808080808F70808ULL, 0x1010101010EF1010ULL,
    0x2020202020DF2020ULL, 0x4040404040BF4040ULL, 0x80808080807F8080ULL,
    0x01010101FE010101ULL, 0x02020202FD020202ULL, 0x04040404FB040404ULL,
    0x08080808F7080808ULL, 0x10101010EF101010ULL, 0x20202020DF202020ULL,
    0x40404040BF404040ULL, 0x808080807F808080ULL, 0x010101FE01010101ULL,
    0x020202FD02020202ULL, 0x040404FB04040404ULL, 0x080808F708080808ULL,
    0x101010EF10101010ULL, 0x202020DF20202020ULL, 0x404040BF40404040ULL,
    0x8080807F80808080ULL, 0x0101FE0101010101ULL, 0x0202FD0202020202ULL,
    0x0404FB0404040404ULL, 0x0808F70808080808ULL, 0x1010EF1010101010ULL,
    0x2020DF2020202020ULL, 0x4040BF4040404040ULL, 0x80807F8080808080ULL,
    0x01FE010101010101ULL, 0x02FD020202020202ULL, 0x04FB040404040404ULL,
    0x08F7080808080808ULL, 0x10EF101010101010ULL, 0x20DF202020202020ULL,
    0x40BF404040404040ULL, 0x807F808080808080ULL, 0xFE01010101010101ULL,
    0xFD02020202020202ULL, 0xFB04040404040404ULL, 0xF708080808080808ULL,
    0xEF10101010101010ULL, 0xDF20202020202020ULL, 0xBF40404040404040ULL,
    0x7F80808080808080ULL};

    inline constexpr u64 AttackList_N[] = {0x0000000000020400ULL, 0x0000000000050800ULL, 0x00000000000A1100ULL,
    0x0000000000142200ULL, 0x0000000000284400ULL, 0x0000000000508800ULL,
    0x0000000000A01000ULL, 0x0000000000402000ULL, 0x0000000002040004ULL,
    0x0000000005080008ULL, 0x000000000A110011ULL, 0x0000000014220022ULL,
    0x0000000028440044ULL, 0x0000000050880088ULL, 0x00000000A0100010ULL,
    0x0000000040200020ULL, 0x0000000204000402ULL, 0x0000000508000805ULL,
    0x0000000A1100110AULL, 0x0000001422002214ULL, 0x0000002844004428ULL,
    0x0000005088008850ULL, 0x000000A0100010A0ULL, 0x0000004020002040ULL,
    0x0000020400040200ULL, 0x0000050800080500ULL, 0x00000A1100110A00ULL,
    0x0000142200221400ULL, 0x0000284400442800ULL, 0x0000508800885000ULL,
    0x0000A0100010A000ULL, 0x0000402000204000ULL, 0x0002040004020000ULL,
    0x0005080008050000ULL, 0x000A1100110A0000ULL, 0x0014220022140000ULL,
    0x0028440044280000ULL, 0x0050880088500000ULL, 0x00A0100010A00000ULL,
    0x0040200020400000ULL, 0x0204000402000000ULL, 0x0508000805000000ULL,
    0x0A1100110A000000ULL, 0x1422002214000000ULL, 0x2844004428000000ULL,
    0x5088008850000000ULL, 0xA0100010A0000000ULL, 0x4020002040000000ULL,
    0x0400040200000000ULL, 0x0800080500000000ULL, 0x1100110A00000000ULL,
    0x2200221400000000ULL, 0x4400442800000000ULL, 0x8800885000000000ULL,
    0x100010A000000000ULL, 0x2000204000000000ULL, 0x0004020000000000ULL,
    0x0008050000000000ULL, 0x00110A0000000000ULL, 0x0022140000000000ULL,
    0x0044280000000000ULL, 0x0088500000000000ULL, 0x0010A00000000000ULL,
    0x0020400000000000ULL};

    inline constexpr u64 AttackList_B[] = {0x8040201008040200ULL, 0x0080402010080500ULL, 0x0000804020110A00ULL,
    0x0000008041221400ULL, 0x0000000182442800ULL, 0x0000010204885000ULL,
    0x000102040810A000ULL, 0x0102040810204000ULL, 0x4020100804020002ULL,
    0x8040201008050005ULL, 0x00804020110A000AULL, 0x0000804122140014ULL,
    0x0000018244280028ULL, 0x0001020488500050ULL, 0x0102040810A000A0ULL,
    0x0204081020400040ULL, 0x2010080402000204ULL, 0x4020100805000508ULL,
    0x804020110A000A11ULL, 0x0080412214001422ULL, 0x0001824428002844ULL,
    0x0102048850005088ULL, 0x02040810A000A010ULL, 0x0408102040004020ULL,
    0x1008040200020408ULL, 0x2010080500050810ULL, 0x4020110A000A1120ULL,
    0x8041221400142241ULL, 0x0182442800284482ULL, 0x0204885000508804ULL,
    0x040810A000A01008ULL, 0x0810204000402010ULL, 0x0804020002040810ULL,
    0x1008050005081020ULL, 0x20110A000A112040ULL, 0x4122140014224180ULL,
    0x8244280028448201ULL, 0x0488500050880402ULL, 0x0810A000A0100804ULL,
    0x1020400040201008ULL, 0x0402000204081020ULL, 0x0805000508102040ULL,
    0x110A000A11204080ULL, 0x2214001422418000ULL, 0x4428002844820100ULL,
    0x8850005088040201ULL, 0x10A000A010080402ULL, 0x2040004020100804ULL,
    0x0200020408102040ULL, 0x0500050810204080ULL, 0x0A000A1120408000ULL,
    0x1400142241800000ULL, 0x2800284482010000ULL, 0x5000508804020100ULL,
    0xA000A01008040201ULL, 0x4000402010080402ULL, 0x0002040810204080ULL,
    0x0005081020408000ULL, 0x000A112040800000ULL, 0x0014224180000000ULL,
    0x0028448201000000ULL, 0x0050880402010000ULL, 0x00A0100804020100ULL,
    0x0040201008040201ULL};

    inline constexpr u64 AttackList_Q[] = {9313761861428380670ULL, 180779649147209725ULL, 289501704256556795ULL,
    578721933553179895ULL, 1157442771889699055ULL, 2314886638996058335ULL, 
    4630054752952049855ULL, 9332167099941961855ULL, 4693051017133293059ULL, 
    9386102034266586375ULL, 325459994840333070ULL, 578862399937640220ULL, 
    1157444424410132280ULL, 2315169224285282160ULL, 4702396038313459680ULL, 
    9404792076610076608ULL, 2382695595002168069ULL, 4765391190004401930ULL, 
    9530782384287059477ULL, 614821794359483434ULL, 1157867469641037908ULL, 
    2387511058326581416ULL, 4775021017124823120ULL, 9550042029937901728ULL, 
    1227517888139822345ULL, 2455035776296487442ULL, 4910072647826412836ULL, 
    9820426766351346249ULL, 1266167048752878738ULL, 2460276499189639204ULL, 
    4920271519124312136ULL, 9840541934442029200ULL, 649930110732142865ULL, 
    1299860225776030242ULL, 2600000831312176196ULL, 5272058161445620104ULL, 
    10544115227674579473ULL, 2641485286422881314ULL, 5210911883574396996ULL, 
    10421541192660455560ULL, 361411684042608929ULL, 722824471891812930ULL, 
    1517426162373248132ULL, 3034571949281478664ULL, 6068863523097809168ULL, 
    12137446670713758241ULL, 5827868887957914690ULL, 11583398706901190788ULL, 
    287670746360127809ULL, 575624067208594050ULL, 1079472019650937860ULL, 
    2087167920257370120ULL, 4102559721436811280ULL, 8133343319517438240ULL, 
    16194909420462031425ULL, 13871017173176583298ULL, 18303478847064064385ULL, 
    18232552689433215490ULL, 18090419998706369540ULL, 17806153522019305480ULL, 
    17237620560088797200ULL, 16100553540994408480ULL, 13826139127340482880ULL, 
    9205534180971414145ULL};

    inline constexpr u64 AttackList_K[] = {};
    inline constexpr u64 AttackList_P[] = {};
    inline constexpr u64 AttackList_oP[] = {};
}
void initBoard();

#endif
